<!DOCTYPE html>
<html lang="zh-Hans-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>吴乐川的《改良型浏览器存储器》的用法示范页</title>
</head>
<body>
    <h1>吴乐川的《改良型浏览器存储器》的用法示范页</h1>
    <p>请打开浏览器控制台观察运行结果。</p>

    <script type="importmap">
        {
            "imports": {
                "@wulechuan/controller--enhanced-web-storage": "../../../源代码/编译出的源代码/index.js"
            }
        }
    </script>

    <script type="module">
        import {
            改良型浏览器会话存储器,
            改良型浏览器本地存储器,
        } from '@wulechuan/controller--enhanced-web-storage'

        改良型浏览器本地存储器.保存条目(
            '甲',
            { 条目: '甲', 解释: '天干第一。第一。盔甲。硬壳。旧时户口编制单位。同“胛”。' },
            { 有效期_以秒计: 3 }
        )

        改良型浏览器会话存储器.保存条目('乙', { 读音: 'yǐ', 笔画数: 1 }, { 有效期_以秒计: 3 })



        // 应取得事先存入的值。
        console.log('第 1 次取得 `甲`：', 改良型浏览器本地存储器.当即取此条目('甲').原始值)

        // 应取得事先存入的值。
        console.log('第 1 次取得 `乙`：', 改良型浏览器会话存储器.当即取此条目('乙').原始值)

        console.log('请等待大约 3 秒钟。')

        setTimeout(() => {
            // 应取得 undefined。因为 '甲' 已过有效期。
            console.log('第 2 次取得 `甲`：', 改良型浏览器本地存储器.当即取此条目('甲').原始值)

            // 应取得 undefined。因为 '乙' 已过有效期。
            console.log('第 2 次取得 `乙`：', 改良型浏览器会话存储器.当即取此条目('乙').原始值)
        }, 3001)
    </script>
</body>
</html>